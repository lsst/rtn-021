
\section{Timeline for Data Facilities Implementation}\label{sec:timeline}
%Originally https://docs.google.com/document/d/1b9lk_bqxb2s6VOa94GQalRRXs1AYkFRYVDx1263RiHM/edit#

The timeline is derived from functionality required by the Data
Previews and then the first Data Release, DR1. Analysis indicates that
the bulk of the service implementation is needed for DP1, with the
exception of live alerts. 

We need to develop a timeline for what needs done by when in the DFs, assuming something like mid 2023 to show everything is ready, if not scaled up already.
This would mean that everything in the scope document and derived services list would be deployed.

With DP0.1 in progress, involvement with the Data Facilities will
begin with DP0.2 \citedsp{RTN-001} following through to \gls{DP2}.
See also RDO-011 for detail on the various Data Previews.

The Data Production Milestones are listed in \tabref{tab:openMilestones} - we may need to add some more specifically for \gls{USDF}.
\input{openMilestones}

\subsection{Assumptions}

Nothing new is needed between \gls{DP2} and DR1, except more
hardware. Each Data Preview is built on the previous one's functionality.

\subsection{Data \gls{Release} Productions}
\subsubsection{ DP0.2 - \gls{DESC} DC2 reprocessing}
\begin{itemize}
\item start date: Q4 \gls{FY21}
\item end date: Q4 FY22
\item Target: reprocess \gls{DC2} data on IDF; run as first Ops rehearsal
\item Functionality:
\begin{itemize}
\item \gls{DRP}; \gls{DIA}; RSP
\item \gls{PanDA} and Processing team driving processing
\item some campaign management
\item FrDF planning parallel reprocessing and RSP; Probably not using
  PanDA. May attempt some at \gls{USDF}:
\item run as Ops Rehearsal
\end{itemize}
\end{itemize}
\subsubsection{ \gls{DP1} - ComCam}
\begin{itemize}
\item start date: Q3 FY22 (Kevin Reil: ready with mirrors etc)
\item end date: Q2 FY23
\item Target: at NCSA; parallel processing at USDF; reprocessing at USDF, FrDF, UKDF
\item Released Products:
\begin{itemize}
\item full \gls{DRP}
\item \gls{AP}, but no live alerts.Canned alerts are planned to allow
  interactions with brokers and the MPC.
\end{itemize}
\item Functionality:
\begin{itemize}
\item Summit to \gls{USDF}  - dual path with NCSA
\begin{itemize}
\item transfer images
\item transfer calibrations - bidirectional
\item transfer \gls{EFD} contents
\end{itemize}
\item \gls{DF} production
\begin{itemize}
\item set up as processing site with sufficient storage and \gls{CPU};
  configurable clusters for AP vs DRP. PanDA server at SLAC.
\item \gls{Qserv} + ingest mechanism
\item \gls{Butler} + ingest
\item \gls{RSP}
\item connection to brokers for canned alerts. (\gls{MPC}?)
\item Data movement among DFs
\item campaign management, \gls{monitoring} and quality assessment
\item IDACS??
\end{itemize}
\end{itemize}
\item Resources needed
\begin{itemize}
\item Databases installed
\item \gls{EFD}, butler, PPDB, APDB...
\item \gls{PanDA} server
\item Rucio instance (?)
\item \gls{Qserv} size
\item \gls{CPU} \& storage
\end{itemize}
\end{itemize}
\subsubsection{DP2 - LSSTCam}
\begin{itemize}
\item start date: Q1 FY23 (Kevin Reil: Oct/Nov 2022. But, ready to go then??)
\item end date: Q1 FY24
\item Target: processing at \gls{USDF} (is this the only processing or does some/all happen at NCSA as well?); FrDF, UKDF
\item Released Products:
\begin{itemize}
\item full \gls{DRP}
\item \gls{AP}, with canned and live alerts.
\end{itemize}
\item Functionality in addition to \gls{DP1}:
\begin{itemize}
\item IDACs
\item Bulk downloads - including policy
\item Resources needed
\item \gls{CPU} + storage increases
\end{itemize}
\end{itemize}
\subsubsection{DR1 - Survey}
This is already operations.

\begin{itemize}
\item start date: Q3 FY24
\item end date: Q1 FY25
\item Released products
\begin{itemize}
\item full \gls{DRP}
\item \gls{AP} where templates are available, with some live alerts.
\end{itemize}
\item Functionality
\begin{itemize}
\item no additional functionality to DP2
\end{itemize}
\end{itemize}
